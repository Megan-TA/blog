---
title: 正则实战
catalog: true
date: 2019-08-30 14:11:43
subtitle:
header-img:
tags: javascript
---

## 10. 正则表达式

> 常用规则

- \n 回车
- \t 制表符
- \r 换行符
- \s 空格
- \u4e00-\u9fa5 中文
- \w 大小写字母\_数字
- \b : 独立的部分 （ 起始，结束，空格 ）
- {n, m} 至少出现 n 次 最多 m 次
- {n,} 至少 n 次
- - 任意次
- - 至少一次
- {n} 至少 n 次
- () 分组符号
- [\s\S] 任意字符
- ^ 放在正则的最开始位置，就代表起始的意思，注意 /[^a] / 和 /^[a]/是不一样的，前者是排除的意思，后者是代表首位。
- 正则的最后位置 , 就代表结束的意思

匹配中文: [\u4e00-\u9fa5]

例如：

```
var str = '2013-6-7';
var re1 = /\d-+/g;        // 全局匹配数字，横杠，横杠数量至少为1，匹配结果为：  3- 6-
var re1 = /(\d-）+/g;     // 全局匹配数字，横杠，数字和横杠整体数量至少为1   3-6-
var re2  = /(\d+)(-)/g;   // 全局匹配至少一个数字，匹配一个横杠 匹配结果：2013- 6-

--------------------------
var str = '2013-6-7';
var re = /(\d+)(-)/g;

str = str.replace(re,function($0,$1,$2){

    //replace()中如果有子项，
    //第一个参数：$0（匹配成功后的整体结果  2013-  6-）,
    // 第二个参数 : $1(匹配成功的第一个分组，这里指的是\d   2013, 6)
    //第三个参数 : $1(匹配成功的第二个分组，这里指的是-    - - )
    return $1 + '.';  //分别返回2013.   6.

});

```

- [] 表示某个集合中的任意一个
- [^a] 排除 a

```
// var re = /\bclassname\b/;

// 不能这样写，当正则需要用到参数时候，一定要用全称的写法，简写方式会
// 把classname当做一个字符串去匹配。

var re = new RegExp('\\b'+classname+'\\b');

// 匹配的时候，classname前面必须是起始或者空格，后面也是。

默认匹配成功就停止，所以就算有重复的也不会再匹配进去了。
```

---

实战 1

```javascript
//去掉a标签
a =
	'度假：原价购页面<a href="jumpType:22,jumplink:273" style="font-size:16px">sss</a>'

// 其中[\s\S]表示任意字符 *? 是一个组合 尽可能匹配少的内容 即不会贪婪匹配到</a>结束
a.replace(/<\/?a[\s\S]*?>/g, '')
```
